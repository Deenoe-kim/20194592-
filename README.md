### 20194592 김현빈 오픈소스SW개론 과제
---
## 리눅스 명령어 top, ps, jobs, kill 조사

* top

1) top :

시스템의 상태(cpu, memory, process)를 전반적으로 가장 빠르게 파악 가능하며 뒤에 옵션 없이 입력시 interval 간격(기본 3초)으로 화면을 갱신하며 정보를 보여준다.


2) top의 옵션 :

-b : 순간의 정보를 확인하기위한 옵션(batch모드)

-n : top 실행 주기 설정(반복 횟수)


3) top 실행 후 명령어 :

shift + p : cpu 사용률 내림차순

shift + m : 메모리 사용률 내림차순

shift + t : 프로세스가 돌아가고 있는 시간 순

k : kill, k 입력 후 PID 번호 작성, signal은 9

f : sort field 선택 화면, q 누르면 RES순으로 정렬

a : 메모리 사용량에 따라 정렬

b : Batch 모드로 작동

1 : CPU Core 별로 사용량을 보여줌


4) top -b -n 1
![실행 화면](https://www.dropbox.com/s/6nnakv6e4j2ojji/Screenshot%202018-07-18%2020.25.32.png?raw=1)

3:58 : 3시간 58분 전에 서버가 구동


load average : 현재 시스템이 얼마나 일을 하는지를 나타냄, 3개의 숫자는 각각 1분, 5분, 15분 간의 편균 실행/대기 중인 프로세스 수를 나타냄

Tasks : 프로세스 개수

KiV Mem, Swap : 각 메모리의 사용량

PR : 실행 우선순위

VIRT, RES, SHR : 메모리 사용량, 누수 체크 가능

S : 프로세스 상태(작업 중, I/O 대기, 유휴 상태 등)


* ps

1) ps :

현재 실행중인 프로세스 목록과 상태를 보여준다. 원하는 프로세스 상태를 출력하려면 정확한 옵션 사용이 필요하다.


2) ps의 옵션 :

-A : 모든 프로세스를 출력함

a(BSD) : 터미널과 연관된 프로세스를 출력함

-a : 세션 리더를 제외하고 데몬 프로세스처럼 터미널에 종속되지 않은 모든 프로세스를 출력함

-e : 커널 프로세스를 제외한 모든 프로세스를 출력함

-f : 풀 포맷으로 보여줌(유닉스처럼 UID, PID, PPID등이 함께 표시됨)

-l(sys V), l(BSD) : 긴 포맷으로 보여줌(우선순위와 관련된 PRI와 NI값 확인 가능)

-o : 출력 포맷을 지정함

-M : 64비트 프로세스들을 보여줌

-m : 프로세스 뿐만 아니라 커널 스레드들도 보여줌

-p : 특정 PID를 지정함

-r : 현재 실행 중인 프로세서를 보여줌

u(BSD) : 프로세스의 소유자를 기준으로 출력함

-u : 특정 사용자의 프로세스 정보를 확인함, 사용자를 지정하지 않으묜 현재 사용자를 기준으로 정보를 출력함

x(BSD) : 데몬 프로세스처럼 터미널에 종속되지 않은 프로세스를 출력함

-x : 로그인 상태에 잇는 동안 아직 완료되지 않은 프로세서들을 보여줌


3) top과 ps의 차이 :

ps는 ps한 시점에 proc에서 검색한 cpu 사용량을
top은 proc에서 일정 주기로 합산해 cpu 사용율 출력


4) ps 출력 항목

![실행 화면2](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FuifZq%2Fbtq6lYjkzSE%2F6u09adRad4Y68mQ0tHI4xK%2Fimg.png)

UID : 실행 유저

PID : 프로세스 ID

PPID : 부모 프로세스 ID

C : cpu 사용량

STIME : 시작 시간

TTY : 프로세스 제어 위치 / - 콘솔 : tty1 / - 원격 : pts/1

TIME : 구동 시간

CMD : 실행 명령어


* jobs

1) jobs :

작업의 상태를 표시하는 명열어, 현재 쉘 세션에서 실행시킨 백그라운드 작업의 목록이 출력되며, 각 작업에는 번호가 붙어 kill 명령어 뒤에 '%번호' 등으로 사용가능


2) jobs의 옵션 :

-l : 프로세스 그룹 ID를 state 필드 앞에 출력함

-n : 프로세스 그룹 중에 대표 프로세스 ID를 출력함

-p : 각 프로세스 ID에 대해 한 행씩 출력함

command : 지정한 명형어를 실행함


* kill

1) kill :

프로세스를 죽일 때 사용, 하지만 내부적으로는 프로세스에 시그널을 보내 원하는 작업을 하게 하는 명령어, 그럼에도 kill인 이유는 어떤 시그널을 보낼 지 지정하지 않으면 기본적으로 SIGTERM 시그널을 보내며 기본 동작이 프로그램 종료이기 때문이다.


2) kill의 시그널 :

시그널은 약 64가지가 있으며 다 나열하기에 너무 많아 주요 시그널만 정리 하려함


SIGHUP : 세션이 종료될 때 시스템이 내리는 시그널

SIGINT : Ctrl + C, 종료 요청 시그널

SIGKILL : 강제 종료 시그널

SIGSEGV : 메모리 침범이 일어날 때 시스템이 보내는 시그널

SIGTERM : 기본 값, 종료 요청 시그널

SIGTSTP : Ctrl + Z, 일시 중지 요청 시그널

---
## vim 에디터에서 매크로 사용방법에 대하여 조사하기(q, @)

* 매크로

1) vim 매크로 :

매크로는 vim 명령어들을 기록하고 이를 반복할 수 있는 기능 매크로 이전에 vim micro macro를 활용해 이전 명령을 바로 반복할 수 있었다. 하지만 이는 이전 명령을 반복할 뿐 이동 후 명령과 같은 작업에 대한 반복이 불가하다. 


2) vim 매크로 명령어 :

q[레지스터] : 매크로 기록 시작

q : 기록 시작 후 입력시 매크로 기록 종료

@[레지스터] : 레지스터 값에 저장된 매크로 실행

@@ : 직전에 실행한 매크로 재실행

[반복횟수]@[레지스터] : 레지스터 값에 저장된 매크로를 반복횟수 만큼 실행

[반복횟수]@@ : 직전에 실행한 매크로를 반복횟수 만큼 재실행

:register : 레지스터에 저장된 매크로를 확인함

:register[레지스터] : [레지스터] 값에 저장된 매크로를 확인함
